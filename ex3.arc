MICRO
c    BRA  BIN  CON I[2:0] I[5:3] I[8:6] A    B    DD  CS
c BOOTSTRAP
m00 00000 000  000 111    000    011   0000 0011  00  0111010111
m01 00000 000  000 000    000    001   0000 0000  00  0010000000
c LDA $K,X 
m02 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m03 00000 000  000 101    000    001    0100 0000 00  0111011101 x+MDR->NOP, MAR
m04 00000 000  000 111    000    011    0000 0101 00  0110011101 MDR+0->ACC
m05 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m06 00000 000  000 000    000    001    0000 0000 00  0010000000 NEXT(PC)
c LDX #K
m07 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m08 00000 000  000 111    000    011    0000 0100 00  0110011101 MDR+0->X  
m09 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m0a 00000 000  000 000    000    001    0000 0000 00  0010000000 NEXT(PC)
c INX
m0b 00000 000  000 101    000    011    0100 0100 01  0110011110 x+1->x
m0c 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m0d 00000 000  000 000    000    001    0000 0000 00  0010000000 NEXT(PC)
c CMPX,#Y
m0e 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m0f 00000 000  000 101    001    001    0100 0000 00  0110111101 MDR-X->NOP,MSTATUS
m10 00000 000  000 101    000    011    0011 0011 01  0111011110 PC+1->PC, MAR
m11 00000 000  000 000    000    001    0000 0000 00  0010000000 NEXT(PC)
c STA $K,X
m12 00000 000 000 101  000  011  0011 0011 01 0111011110 PC+1->PC, MAR
m13 00000 000 000 101  000  001  0100 0000 00 0111011101 MDR+X->NOP,MAR
m14 00000 000 000 100  000  001  0101 0000 00 0100011111 ACC+0->NOP,MWE
m15 00000 000 000 101  000  011  0011 0011 01 0111011110 PC+1->PC,MAR
m16 00000 000 000 000  000  001  0000 0000 00 0010000000 NEXT(PC)
c ADC $K,X
m17 00000 000 000 101  000  011  0011 0011 01 0111011110 PC+1->PC, MAR
m18 00000 000 000 101  000  001  0100 0000 00 0111011101 MDR+X->NOP,MAR
m19 00000 000 000 101  000  011  0101 0101 00 0110011001 ACC+MDR->ACC,CARRYE~
m1a 00000 000 000 101  000  011  0011 0011 01 0111011110 PC+1->PC,MAR
m1b 00000 000 000 000  000  001  0000 0000 00 0010000000 NEXT(PC)
c CRC
m1c 00000 000 000 111  000  001  0000 0000 00 0110111110 0+0->NOP,MSTATUS
m1d 00000 000 000 101  000  011  0011 0011 01 0111011110 PC+1->PC,MAR
m1e 00000 000 000 000  000  001  0000 0000 00 0010000000 NEXT(PC)
c BRNZ $K
m1f 00011 011 011 101 000 011 0011 0011 01 1111011110 //PC+1->PC, MAR,BRZ
m20 00000 000 000 111 000 011 0000 0011 00 1110011101 //MDR+0->PC
m21 00000 000 000 101 001 011 0011 0011 01 1110011110 //PC-1->PC
m22 00000 000 000 101 000 011 0011 0011 01 1111011110 //PC+1->PC
m23 00000 000 000 000 000 001 0000 0000 00 1110001111 //next(pc)
c SHLA
m24 00000 000 000 100  000  111  0101 0101 00 0110011111 ACC+0->SRAMU
m25 00000 000 000 101  000  011  0011 0011 01 0111011110 PC+1->PC,MAR
m26 00000 000 000 000  000  001  0000 0000 00 0010000000 NEXT(PC)
c HALT
m27 00000 000 000 000  000  001  0000 0000 00 0010000000 NEXT(PC)
MAIN
m00 01 //LDX #20
m01 20
m02 06 //crc
m03 00 //LDA $0, X
m04 00
m05 08 //SHLA
m06 05 //adc $8, x
m07 08
m08 04 //sta $10, x
m09 10
m0a 02 //inx
m0b 03 //cmp 28
m0c 28
m0d 07 //brnz 03
m0e 03
m0f 09 //halt
m10 00
m11 00 
m12 00 
m13 00
m14 00 
m15 00
m16 00
m17 00 
m18 00

m19 00

m1a 00
m1b 00
m1c 00
m1d 00
m1e 00
m1f 00
m20 01 //z0

m21 02

m22 03

m23 04

m24 05

m25 06

m26 07

m27 08

m28 02 //y0

m29 03

m2a 04

m2b 05

m2c 06

m2d 07

m2e 08

m2f 09

m30 00

m31 00

m32 00

m33 00

m34 00

m35 00

m36 00
m37 00
MAPPER
m00 02
m01 07
m02 0b
m03 0e
m04 12
m05 17
m06 1c
m07 1f
m08 24
m09 27
